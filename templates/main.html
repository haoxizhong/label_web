<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>法律智能周报提交</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
</head>
<script type="text/javascript">
    /*
    *增加模板行
    */
    var cnt = {{ cnt }};

    function addRow(name) {
        cnt += 1;
        var table = document.getElementById(name);
        var tbody = document.getElementById(name + "TemplateTBody");
        var inputBody = document.getElementById(name + "Input");
        inputBody.name = name + cnt;
        var deleteButton = document.getElementById(name + "Delete");
        deleteButton.name = name;
        var newTBody = tbody.cloneNode(true);
        newTBody.style.display = "";
        var footTBody = document.getElementById(name + "FootTbody");
        inputBody.name = name;
        return table.insertBefore(newTBody, footTBody);
    }

    /*
    *删除模板行
    */
    function deleteRow(obj) {
        var tbody = obj.parentNode.parentNode.parentNode;
        var table = document.getElementById(obj.name);
        table.removeChild(tbody);
    }

    /**
     *向模板中填充值
     */
    function setValue(name) {
        var tbody = addRow(name);
    }

    function tz() {
        window.location.href = '/logout';
    }
</script>
<body>
<div class="container">
    <form method="post" role="form">
        <div class="form-group">

            <table id="FakeTable0" class="table table-striped">
            </table>

            <div class="row">
                <div class="col-xs-6 col-sm-3 col-md-2">
                    {{ inf }}
                </div>
            </div>

            <table id="FakeTable1" class="table table-striped">
            </table>

            <div class="row">
                <div class="col-xs-6 col-sm-3 col-md-2">
                    姓名
                </div>
                <div class="col-xs-6 col-sm-3 col-md-2">
                    <input type="text" name="name" class="form-control" value="{{ name }}"/>
                </div>
            </div>

            <table id="FakeTable2" class="table table-striped">
            </table>

            <div class="row">
                <div class="col-xs-6 col-sm-3 col-md-2">
                    本周已完成工作
                </div>
                <div class="col-xs-6 col-sm-3 col-md-2">
                    <button type="button" class="btn btn-primary form-control" onclick="setValue('ThisWeek')">
                        增加
                    </button>
                </div>
            </div>
            <table id="FakeTable3" class="table table-striped">
            </table>
            <table id="ThisWeek" class="table table-striped">
                <tbody id="ThisWeekTemplateTBody" style="display: none;">
                <tr>
                    <td>
                        <button type="button" class="btn btn-info form-control" id="ThisWeekDelete"
                                onclick="deleteRow(this)">
                            删除
                        </button>
                    </td>
                    <td><input type="text" id="ThisWeekInput" class="form-control"/></td>
                </tr>
                </tbody>
                {% for name,value in thisWeek %}
                    <tbody id="ThisWeekTemplateTBody" style="display: none;">
                    <tr>
                        <td>
                            <button type="button" class="btn btn-info form-control" id="ThisWeekDelete"
                                    onclick="deleteRow(this)" name="ThisWeek">
                                删除
                            </button>
                        </td>
                        <td><input type="text" id="ThisWeekInput{{ name }}" class="form-control"
                                   value="{{ value }}" name="ThisWeek{{ name }}"/></td>
                    </tr>
                    </tbody>
                {% endfor %}
                <tbody id="ThisWeekFootTbody">
                </tbody>
            </table>

            <div class="row">
                <div class="col-xs-6 col-sm-3 col-md-2">
                    下周工作
                </div>
                <div class="col-xs-6 col-sm-3 col-md-2">
                    <button type="button" class="btn btn-primary form-control" onclick="setValue('NextWeek')">
                        增加
                    </button>
                </div>
            </div>
            <table id="FakeTable4" class="table table-striped">
            </table>
            <table id="NextWeek" class="table table-striped">
                <tbody id="NextWeekTemplateTBody" style="display: none;">
                <tr>
                    <td>
                        <button type="button" class="btn btn-info form-control" id="NextWeekDelete"
                                onclick="deleteRow(this)">
                            删除
                        </button>
                    </td>
                    <td><input type="text" id="NextWeekInput" class="form-control"/></td>
                </tr>
                </tbody>
                <tbody id="NextWeekFootTbody">
                {% for name,value in nextWeek %}
                    <tr>
                        <td>
                            <button type="button" class="btn btn-info form-control" id="NextWeekDelete"
                                    onclick="deleteRow(this)">
                                删除
                            </button>
                        </td>
                        <td><input type="text" id="NextWeekInput{{ name }}" class="form-control"
                                   value="{{ value }}" name="NextWeek{{ name }}"/></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <button type="submit" class="btn btn-success">提交</button>
        </div>
    </form>
    <button type="submit" class="btn btn-dark" onclick="tz()">
        登出
    </button>
</div>
</body>
</html>